<Window x:Class="Next_Future_ERP.Features.Items.Views.ItemLookupWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="بحث الأصناف" Height="520" Width="780"
        WindowStartupLocation="CenterOwner"
        FlowDirection="RightToLeft"
        Background="#F7F9FC"
        ResizeMode="CanResize"
        MinWidth="600" MinHeight="420">
    <Window.Resources>
        <SolidColorBrush x:Key="CardBorder" Color="#E2E8F0"/>
        <Style TargetType="Button" x:Key="PrimaryBtn">
            <Setter Property="Padding" Value="10,6"/>
            <Setter Property="Margin" Value="6,0,0,0"/>
        </Style>
        <Style TargetType="TextBox">
            <Setter Property="Padding" Value="8,6"/>
        </Style>
        <Style TargetType="DataGrid">
            <Setter Property="RowHeight" Value="34"/>
            <Setter Property="AlternationCount" Value="2"/>
            <Setter Property="AlternatingRowBackground" Value="#FAFAFA"/>
        </Style>
    </Window.Resources>

    <DockPanel LastChildFill="True" Margin="10">
        <!-- شريط البحث -->
        <Border DockPanel.Dock="Top" CornerRadius="10" Background="White"
                BorderBrush="{StaticResource CardBorder}" BorderThickness="1"
                Padding="10" Margin="0,0,0,10">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="بحث:" VerticalAlignment="Center" Margin="0,0,6,0"/>
                    <TextBox Width="260" Text="{Binding SearchText, UpdateSourceTrigger=PropertyChanged}"/>
                </StackPanel>
                <Button Grid.Column="1" Content="بحث" Width="110" Command="{Binding SearchCommand}" Margin="8,0,0,0"/>
                <Button Grid.Column="2" Content="مسح" Width="110" Command="{Binding ClearCommand}" Margin="8,0,0,0"/>
            </Grid>
        </Border>

        <!-- القائمة -->
        <DataGrid ItemsSource="{Binding Items}" SelectedItem="{Binding Selected}"
                  AutoGenerateColumns="False" CanUserAddRows="False" IsReadOnly="True"
                  MouseDoubleClick="DataGrid_MouseDoubleClick">
            <DataGrid.Columns>
                <DataGridTextColumn Header="الكود" Binding="{Binding ItemCode}" Width="140"/>
                <DataGridTextColumn Header="الاسم" Binding="{Binding ItemName}" Width="*"/>
                <DataGridTextColumn Header="الباركود" Binding="{Binding ItemBarcode}" Width="200"/>
                <DataGridTextColumn Header="التصنيف" Binding="{Binding Category.CategoryName}" Width="180"/>
                <DataGridCheckBoxColumn Header="نشط" Binding="{Binding IsActive}" Width="80"/>
            </DataGrid.Columns>
        </DataGrid>

        <!-- أزرار -->
        <StackPanel DockPanel.Dock="Bottom" Orientation="Horizontal" HorizontalAlignment="Left" Margin="0,10,0,0">
            <Button Content="اختيار" Width="120" Style="{StaticResource PrimaryBtn}" Click="Choose_Click"/>
            <Button Content="إلغاء" Width="120" Click="Cancel_Click"/>
        </StackPanel>
    </DockPanel>
</Window>

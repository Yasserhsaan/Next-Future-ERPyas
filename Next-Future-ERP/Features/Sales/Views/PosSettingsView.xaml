<!-- PosSettingsView.xaml -->
<Page
    x:Class="Next_Future_ERP.Features.Sales.Views.PosSettingsView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:viewmodels="clr-namespace:Next_Future_ERP.Features.Sales.ViewModels"
    mc:Ignorable="d"
    Title="إعدادات نقاط البيع"
    FlowDirection="RightToLeft">
    <Page.DataContext>
        <viewmodels:PosSettingsViewModel />
    </Page.DataContext>
    <Page.Resources>
        <BooleanToVisibilityConverter x:Key="BoolToVisibility"/>
        <Style TargetType="TextBlock">
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>
        <Style TargetType="TextBox">
            <Setter Property="Padding" Value="5"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Height" Value="30"/>
        </Style>
        <Style TargetType="ComboBox">
            <Setter Property="Padding" Value="5"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Height" Value="30"/>
        </Style>
        <Style TargetType="CheckBox">
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Margin" Value="0,5"/>
        </Style>
        <Style TargetType="Button">
            <Setter Property="Padding" Value="15,5"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Margin" Value="5"/>
            <Setter Property="Height" Value="35"/>
        </Style>
        <Style x:Key="TabButtonStyle" TargetType="Button">
            <Setter Property="Padding" Value="15,5"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Margin" Value="0,0,5,0"/>
            <Setter Property="Height" Value="35"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontWeight" Value="Bold"/>
        </Style>
        <!-- أنماط مخصصة للحقول الإجبارية -->
        <Style x:Key="RequiredFieldIndicator" TargetType="TextBlock">
            <Setter Property="Text" Value="*"/>
            <Setter Property="Foreground" Value="Red"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Margin" Value="2,0,0,0"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>
        <Style x:Key="LegendIndicator" TargetType="TextBlock">
            <Setter Property="Text" Value="*"/>
            <Setter Property="Foreground" Value="Red"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Margin" Value="0,0,5,0"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>
    </Page.Resources>
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        <!-- عنوان الصفحة -->
        <TextBlock Text="إعدادات نقاط البيع" FontSize="20" FontWeight="Bold" Margin="0,0,0,20"/>
        <!-- أزرار التنقل بين الأقسام -->
        <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="0,0,0,20">
            <Button Content="الإعدادات العامة" 
                    Command="{Binding ShowGeneralSettingsTabCommand}"
                    Margin="0,0,5,0">
                <Button.Style>
                    <Style TargetType="Button" BasedOn="{StaticResource {x:Type Button}}">
                        <Setter Property="Padding" Value="15,5"/>
                        <Setter Property="FontSize" Value="14"/>
                        <Setter Property="Height" Value="35"/>
                        <Setter Property="Foreground" Value="White"/>
                        <Setter Property="FontWeight" Value="Bold"/>
                        <Setter Property="Background" Value="Gray"/>
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding ShowGeneralSettings}" Value="True">
                                <Setter Property="Background" Value="#1E90FF"/>
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </Button.Style>
            </Button>
            <Button Content="إعدادات الفاتورة" 
                    Command="{Binding ShowInvoiceSettingsTabCommand}"
                    Margin="0,0,5,0">
                <Button.Style>
                    <Style TargetType="Button" BasedOn="{StaticResource {x:Type Button}}">
                        <Setter Property="Padding" Value="15,5"/>
                        <Setter Property="FontSize" Value="14"/>
                        <Setter Property="Height" Value="35"/>
                        <Setter Property="Foreground" Value="White"/>
                        <Setter Property="FontWeight" Value="Bold"/>
                        <Setter Property="Background" Value="Gray"/>
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding ShowInvoiceSettings}" Value="True">
                                <Setter Property="Background" Value="#1E90FF"/>
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </Button.Style>
            </Button>
            <Button Content="الإعدادات المتقدمة" 
                    Command="{Binding ShowAdvancedSettingsTabCommand}">
                <Button.Style>
                    <Style TargetType="Button" BasedOn="{StaticResource {x:Type Button}}">
                        <Setter Property="Padding" Value="15,5"/>
                        <Setter Property="FontSize" Value="14"/>
                        <Setter Property="Height" Value="35"/>
                        <Setter Property="Foreground" Value="White"/>
                        <Setter Property="FontWeight" Value="Bold"/>
                        <Setter Property="Background" Value="Gray"/>
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding ShowAdvancedSettings}" Value="True">
                                <Setter Property="Background" Value="#1E90FF"/>
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </Button.Style>
            </Button>
        </StackPanel>
        <!-- منطقة المحتوى -->
        <ScrollViewer Grid.Row="2" VerticalScrollBarVisibility="Auto">
            <Border Background="#f8f9fa" Padding="15" CornerRadius="8" BorderBrush="#dee2e6" BorderThickness="1">
                <StackPanel>
                    <!-- الإعدادات العامة -->
                    <StackPanel Visibility="{Binding ShowGeneralSettings, Converter={StaticResource BoolToVisibility}}">
                        <TextBlock Text="الإعدادات العامة" FontWeight="Bold" FontSize="16" Margin="0,0,0,15"/>
                        <!-- مفتاح تفسيري -->
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                            <TextBlock Style="{StaticResource LegendIndicator}"/>
                            <TextBlock Text="= حقل إجباري" />
                        </StackPanel>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="20"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <!-- المستخدم الافتراضي لنقطة البيع (إجباري منطقياً) -->
                            <Grid Grid.Row="0" Grid.Column="0" Margin="0,0,0,5">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Text="المستخدم الافتراضي لنقطة البيع:" VerticalAlignment="Center"/>
                                <TextBlock Style="{StaticResource RequiredFieldIndicator}"/>
                            </Grid>
                            <TextBox Grid.Row="1" Grid.Column="0" Margin="0,0,0,10"
                                     Text="{Binding PosSetting.DefaultPosUser, TargetNullValue='', FallbackValue=''}"/>
                            <!-- البحث عن الأصناف -->
                            <CheckBox Grid.Row="0" Grid.Column="2"
                                      IsChecked="{Binding PosSetting.SearchForItems}"
                                      Content="البحث عن الأصناء"/>
                            <!-- التحقق من الكمية المتاحة -->
                            <CheckBox Grid.Row="1" Grid.Column="2"
                                      IsChecked="{Binding PosSetting.CheckTheAvailableQuantity}"
                                      Content="التحقق من الكمية المتاحة"/>
                            <!-- السماح بتعديل السعر -->
                            <CheckBox Grid.Row="2" Grid.Column="0"
                                      IsChecked="{Binding PosSetting.AllowPriceModification}"
                                      Content="السماح بتعديل السعر"/>
                            <!-- السماح باستخدام العملات -->
                            <CheckBox Grid.Row="2" Grid.Column="2"
                                      IsChecked="{Binding PosSetting.AllowTheUseOfCurrencies}"
                                      Content="السماح باستخدام العملات"/>
                            <!-- البيع بالباركود فقط -->
                            <CheckBox Grid.Row="3" Grid.Column="0"
                                      IsChecked="{Binding PosSetting.SaleOnlyByBarcode}"
                                      Content="البيع بالباركود فقط"/>
                            <!-- السماح بتعديل الوحدة -->
                            <CheckBox Grid.Row="3" Grid.Column="2"
                                      IsChecked="{Binding PosSetting.AllowUnitModification}"
                                      Content="السماح بتعديل الوحدة"/>
                            <!-- استخدام مفتاح DELETE -->
                            <CheckBox Grid.Row="4" Grid.Column="0"
                                      IsChecked="{Binding PosSetting.UseTheDELETEKey}"
                                      Content="استخدام مفتاح DELETE"/>
                            <!-- تجميع الأصناف المكررة -->
                            <CheckBox Grid.Row="4" Grid.Column="2"
                                      IsChecked="{Binding PosSetting.GroupDuplicateItems}"
                                      Content="تجميع الأصنار المكررة"/>
                            <!-- طريقة التسعير -->
                            <TextBlock Text="طريقة التسعير:" Grid.Row="5" Grid.Column="0" Margin="0,0,0,5"/>
                            <ComboBox Grid.Row="6" Grid.Column="0" Margin="0,0,0,10"
                                      ItemsSource="{Binding PricingOptions}"
                                      SelectedValue="{Binding PosSetting.Itempricing}"
                                      SelectedValuePath="Key"
                                      DisplayMemberPath="Value" />
                            <!-- طريقة التقريب -->
                            <TextBlock Text="طريقة التقريب:" Grid.Row="5" Grid.Column="2" Margin="0,0,0,5"/>
                            <ComboBox Grid.Row="6" Grid.Column="2" Margin="0,0,0,10"
                                      ItemsSource="{Binding RoundOptions}"
                                      SelectedValue="{Binding PosSetting.Rounduptheinvoiceamount}"
                                      SelectedValuePath="Key"
                                      DisplayMemberPath="Value" />
                            <!-- طرق الدفع -->
                            <TextBlock Text="طرق الدفع:" Grid.Row="7" Grid.Column="0" Margin="0,0,0,5"/>
                            <ComboBox Grid.Row="8" Grid.Column="0" Margin="0,0,0,10"
                                      ItemsSource="{Binding PaymentMethodOptions}"
                                      SelectedValue="{Binding PosSetting.Paymentmethods}"
                                      SelectedValuePath="Key"
                                      DisplayMemberPath="Value" />
                            <!-- نوع تسلسل الفاتورة -->
                            <TextBlock Text="نوع تسلسل الفاتورة:" Grid.Row="7" Grid.Column="2" Margin="0,0,0,5"/>
                            <ComboBox Grid.Row="8" Grid.Column="2" Margin="0,0,0,10"
                                      ItemsSource="{Binding SequenceTypeOptions}"
                                      SelectedValue="{Binding PosSetting.InvoiceSequenceType}"
                                      SelectedValuePath="Key"
                                      DisplayMemberPath="Value" />
                        </Grid>
                    </StackPanel>
                    <!-- إعدادات الفاتورة -->
                    <StackPanel Visibility="{Binding ShowInvoiceSettings, Converter={StaticResource BoolToVisibility}}">
                        <TextBlock Text="إعدادات الفاتورة" FontWeight="Bold" FontSize="16" Margin="0,0,0,15"/>
                        <!-- مفتاح تفسيري -->
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                            <TextBlock Style="{StaticResource LegendIndicator}"/>
                            <TextBlock Text="= حقل إجباري إذا تم تفعيل الفاتورة الإلكترونية أو الضريبة" />
                        </StackPanel>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="20"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <!-- تفعيل الفاتورة الإلكترونية -->
                            <CheckBox Grid.Row="0" Grid.Column="0"
                                      IsChecked="{Binding PosSetting.EnableEInvoice}"
                                      Content="تفعيل الفاتورة الإلكترونية"/>
                            <!-- عرض رمز QR على الفاتورة -->
                            <CheckBox Grid.Row="0" Grid.Column="2"
                                      IsChecked="{Binding PosSetting.QrCodeOnInvoice}"
                                      Content="عرض رمز QR على الفاتورة"/>
                            <!-- رقم التسجيل الضريبي (إجباري إذا تم تفعيل الفاتورة الإلكترونية أو الضريبة) -->
                            <Grid Grid.Row="1" Grid.Column="0" Margin="0,0,0,5">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Text="رقم التسجيل الضريبي:" VerticalAlignment="Center"/>
                                <TextBlock Style="{StaticResource RequiredFieldIndicator}"/>
                            </Grid>
                            <TextBox Grid.Row="2" Grid.Column="0" Margin="0,0,0,10"
                                     Text="{Binding PosSetting.VatRegistrationNumber, TargetNullValue='', FallbackValue=''}"/>
                            <!-- تنسيق الفاتورة الإلكترونية -->
                            <TextBlock Text="تنسيق الفاتورة الإلكترونية:" Grid.Row="1" Grid.Column="2" Margin="0,0,0,5"/>
                            <TextBox Grid.Row="2" Grid.Column="2" Margin="0,0,0,10"
                                     Text="{Binding PosSetting.EInvoiceFormat, TargetNullValue='', FallbackValue=''}"/>
                            <!-- عرض تفاصيل الضريبة -->
                            <CheckBox Grid.Row="3" Grid.Column="0"
                                      IsChecked="{Binding PosSetting.ShowVatBreakdown}"
                                      Content="عرض تفاصيل الضريبة"/>
                            <!-- تفعيل الضريبة -->
                            <CheckBox Grid.Row="3" Grid.Column="2"
                                      IsChecked="{Binding PosSetting.ActivateVAT}"
                                      Content="تفعيل الضريبة"/>
                            <!-- الحد الأقصى للخصم -->
                            <TextBlock Text="الحد الأقصى للخصم:" Grid.Row="4" Grid.Column="0" Margin="0,0,0,5"/>
                            <TextBox Grid.Row="5" Grid.Column="0" Margin="0,0,0,10"
                                     Text="{Binding PosSetting.MaxDiscountLimit, TargetNullValue=0, FallbackValue=0}"/>
                            <!-- طباعة الفاتورة تلقائياً -->
                            <CheckBox Grid.Row="4" Grid.Column="2"
                                      IsChecked="{Binding PosSetting.PrintInvoiceAuto}"
                                      Content="طباعة الفاتورة تلقائياً"/>
                            <!-- طباعة الفاتورة بعد الحفظ -->
                            <CheckBox Grid.Row="5" Grid.Column="0"
                                      IsChecked="{Binding PosSetting.PrintTheInvoiceAfterSaving}"
                                      Content="طباعة الفاتورة بعد الحفظ"/>
                            <!-- إضافة بيانات العميل النقدي من شاشة الفاتورة -->
                            <CheckBox Grid.Row="5" Grid.Column="2"
                                      IsChecked="{Binding PosSetting.AddCashCustomerDataFromTheInvoiceScreen}"
                                      Content="إضافة بيانات العميل النقدي من شاشة الفاتورة"/>
                            <!-- طول أرقام المسلسل -->
                            <TextBlock Text="طول أرقام المسلسل:" Grid.Row="6" Grid.Column="0" Margin="0,0,0,5"/>
                            <TextBox Grid.Row="7" Grid.Column="0" Margin="0,0,0,10"
                                     Text="{Binding PosSetting.NumberOfSerialNumberDigits, TargetNullValue=0, FallbackValue=0}"/>
                            <!-- طلب رقم الجوال للدفع -->
                            <CheckBox Grid.Row="6" Grid.Column="2"
                                      IsChecked="{Binding PosSetting.RequireMobileNumberForPayments}"
                                      Content="طلب رقم الجوال للدفع"/>
                        </Grid>
                    </StackPanel>
                    <!-- الإعدادات المتقدمة -->
                    <StackPanel Visibility="{Binding ShowAdvancedSettings, Converter={StaticResource BoolToVisibility}}">
                        <TextBlock Text="الإعدادات المتقدمة" FontWeight="Bold" FontSize="16" Margin="0,0,0,15"/>
                        <!-- مفتاح تفسيري -->
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                            <TextBlock Style="{StaticResource LegendIndicator}"/>
                            <TextBlock Text="= حقل إجباري" />
                            <TextBlock Text=" (لا توجد حقول إجبارية في هذا القسم حسب الجدول)" Foreground="Gray" Margin="5,0,0,0"/>
                        </StackPanel>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="20"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <!-- فترة الإرجاع (أيام) -->
                            <TextBlock Text="فترة الإرجاع (أيام):" Grid.Row="0" Grid.Column="0" Margin="0,0,0,5"/>
                            <TextBox Grid.Row="1" Grid.Column="0" Margin="0,0,0,10"
                                     Text="{Binding PosSetting.ReturnPeriod, TargetNullValue=0, FallbackValue=0}"/>
                            <!-- فترة التبادل (أيام) -->
                            <TextBlock Text="فترة التبادل (أيام):" Grid.Row="0" Grid.Column="2" Margin="0,0,0,5"/>
                            <TextBox Grid.Row="1" Grid.Column="2" Margin="0,0,0,10"
                                     Text="{Binding PosSetting.ExchangePeriod, TargetNullValue=0, FallbackValue=0}"/>
                            <!-- وقت التأخير أو التقديم (دقائق) -->
                            <TextBlock Text="وقت التأخير أو التقديم (دقائق):" Grid.Row="2" Grid.Column="0" Margin="0,0,0,5"/>
                            <TextBox Grid.Row="3" Grid.Column="0" Margin="0,0,0,10"
                                     Text="{Binding PosSetting.DelayOrAdvanceTime, TargetNullValue=0, FallbackValue=0}"/>
                            <!-- عدد ساعات العمل -->
                            <TextBlock Text="عدد ساعات العمل:" Grid.Row="2" Grid.Column="2" Margin="0,0,0,5"/>
                            <TextBox Grid.Row="3" Grid.Column="2" Margin="0,0,0,10"
                                     Text="{Binding PosSetting.NumberOfWorkingHours, TargetNullValue=0, FallbackValue=0}"/>
                            <!-- من الفترة -->
                            <TextBlock Text="من الفترة:" Grid.Row="4" Grid.Column="0" Margin="0,0,0,5"/>
                            <TextBox Grid.Row="5" Grid.Column="0" Margin="0,0,0,10"
                                     Text="{Binding PosSetting.FromPeriod, TargetNullValue='', FallbackValue=''}"/>
                            <!-- إلى الفترة -->
                            <TextBlock Text="إلى الفترة:" Grid.Row="4" Grid.Column="2" Margin="0,0,0,5"/>
                            <TextBox Grid.Row="5" Grid.Column="2" Margin="0,0,0,10"
                                     Text="{Binding PosSetting.ToPeriod, TargetNullValue='', FallbackValue=''}"/>
                            <!-- حساب الوسيط الحالي للمحفظة -->
                            <TextBlock Text="حساب الوسيط الحالي للمحفظة:" Grid.Row="6" Grid.Column="0" Margin="0,0,0,5"/>
                            <TextBox Grid.Row="7" Grid.Column="0" Margin="0,0,0,10"
                                     Text="{Binding PosSetting.CurrentWalletBrokerAccount, TargetNullValue='', FallbackValue=''}"/>
                            <!-- حساب الفائض -->
                            <TextBlock Text="حساب الفائض:" Grid.Row="6" Grid.Column="2" Margin="0,0,0,5"/>
                            <TextBox Grid.Row="7" Grid.Column="2" Margin="0,0,0,10"
                                     Text="{Binding PosSetting.SurplusAccountNumber, TargetNullValue='', FallbackValue=''}"/>
                            <!-- حساب العجز -->
                            <TextBlock Text="حساب العجز:" Grid.Row="8" Grid.Column="0" Margin="0,0,0,5"/>
                            <TextBox Grid.Row="9" Grid.Column="0" Margin="0,0,0,10"
                                     Text="{Binding PosSetting.DeficitAccountNumber, TargetNullValue='', FallbackValue=''}"/>
                            <!-- تفعيل الائتمان للإرجاع -->
                            <CheckBox Grid.Row="8" Grid.Column="2"
                                      IsChecked="{Binding PosSetting.ActivateCreditForReturns}"
                                      Content="تفعيل الائتمان للإرجاع"/>
                            <!-- استخدام بطاقات الدفع السبعة نقاط -->
                            <CheckBox Grid.Row="9" Grid.Column="0"
                                      IsChecked="{Binding PosSetting.UseOfSevenPointPaymentCards}"
                                      Content="استخدام بطاقات الدفع السبعة نقاط"/>
                            <!-- حساب صندوق الإرجاع والتبادل -->
                            <TextBlock Text="حساب صندوق الإرجاع والتبادل:" Grid.Row="10" Grid.Column="0" Margin="0,0,0,5"/>
                            <TextBox Grid.Row="11" Grid.Column="0" Margin="0,0,0,10"
                                     Text="{Binding PosSetting.ReturnAndExchangeFundCalculation, TargetNullValue='', FallbackValue=''}"/>
                            <!-- حساب التبادل والإرجاع -->
                            <TextBlock Text="حساب التبادل والإرجاع:" Grid.Row="10" Grid.Column="2" Margin="0,0,0,5"/>
                            <TextBox Grid.Row="11" Grid.Column="2" Margin="0,0,0,10"
                                     Text="{Binding PosSetting.ExchangeAndReturnCalculation, TargetNullValue='', FallbackValue=''}"/>
                            <!-- حساب القسيمة -->
                            <TextBlock Text="حساب القسيمة:" Grid.Row="12" Grid.Column="0" Margin="0,0,0,5"/>
                            <TextBox Grid.Row="13" Grid.Column="0" Margin="0,0,0,10"
                                     Text="{Binding PosSetting.CouponCalculation, TargetNullValue='', FallbackValue=''}"/>
                            <!-- طريقة تصفية المبيعات -->
                            <TextBlock Text="طريقة تصفية المبيعات:" Grid.Row="12" Grid.Column="2" Margin="0,0,0,5"/>
                            <TextBox Grid.Row="13" Grid.Column="2" Margin="0,0,0,10"
                                     Text="{Binding PosSetting.SalesLiquidationMethod, TargetNullValue='', FallbackValue=''}"/>
                        </Grid>
                    </StackPanel>
                </StackPanel>
            </Border>
        </ScrollViewer>
        <!-- أزرار الحفظ وإعادة التعيين -->
        <StackPanel Grid.Row="3" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,20,0,0">
            <Button Content="حفظ الإعدادات" Command="{Binding SaveCommand}" Background="#28a745" Foreground="White"/>
            <Button Content="إعادة التعيين" Command="{Binding ResetCommand}" Background="#dc3545" Foreground="White"/>
        </StackPanel>
    </Grid>
</Page>
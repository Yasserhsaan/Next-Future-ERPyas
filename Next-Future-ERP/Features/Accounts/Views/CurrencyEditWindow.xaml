<Window x:Class="Next_Future_ERP.Features.Accounts.Views.CurrencyEditWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="{Binding WindowTitle}" Height="600" Width="900"
        WindowStartupLocation="CenterOwner"
        FlowDirection="RightToLeft"
        Background="#F7F9FC"
        ResizeMode="CanResizeWithGrip"
        MinWidth="800" MinHeight="500"
        Loaded="Window_Loaded">

    <!-- Ø§Ø®ØªØµØ§Ø±Ø§Øª -->
    <Window.InputBindings>
        <KeyBinding Key="S" Modifiers="Ctrl" Command="{Binding SaveCommand}"/>
        <KeyBinding Key="Escape" Command="{Binding CancelCommand}"/>
    </Window.InputBindings>

    <Window.Resources>
        <!-- Ø£Ù„ÙˆØ§Ù† -->
        <SolidColorBrush x:Key="CardBg" Color="#FFFFFFFF"/>
        <SolidColorBrush x:Key="CardBorder" Color="#E6EAF0"/>
        <SolidColorBrush x:Key="Soft" Color="#F3F4F6"/>
        <SolidColorBrush x:Key="Accent" Color="#3B82F6"/>
        <SolidColorBrush x:Key="AccentDark" Color="#2563EB"/>
        <SolidColorBrush x:Key="Muted" Color="#64748B"/>

        <!-- Ø­Ø§ÙˆÙŠØ© -->
        <Style x:Key="CardBorderStyle" TargetType="Border">
            <Setter Property="Background" Value="{StaticResource CardBg}"/>
            <Setter Property="BorderBrush" Value="{StaticResource CardBorder}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="16"/>
            <Setter Property="Padding" Value="14"/>
        </Style>

        <!-- Ù…Ø¯Ø®Ù„Ø§Øª -->
        <Style TargetType="TextBox">
            <Setter Property="Background" Value="White"/>
            <Setter Property="BorderBrush" Value="#E2E8F0"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="10,8"/>
        </Style>
        <Style TargetType="ComboBox">
            <Setter Property="Background" Value="White"/>
            <Setter Property="BorderBrush" Value="#E2E8F0"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="6,4"/>
        </Style>
        <Style TargetType="Button" x:Key="PrimaryBtn">
            <Setter Property="Background" Value="{StaticResource Accent}"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Padding" Value="10,8"/>
            <Setter Property="BorderBrush" Value="{StaticResource AccentDark}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Cursor" Value="Hand"/>
        </Style>
    </Window.Resources>

    <Grid Margin="12">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/> <!-- Ø£Ø²Ø±Ø§Ø± Ø£Ø¹Ù„Ù‰ -->
            <RowDefinition Height="*"/>    <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ -->
            <RowDefinition Height="Auto"/> <!-- ØªÙ„Ù…ÙŠØ­ Ø³ÙÙ„ÙŠ -->
        </Grid.RowDefinitions>

        <!-- Ø´Ø±ÙŠØ· Ø£Ø¹Ù„Ù‰ -->
        <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
            <Button Content="Ø­ÙØ¸" Width="130" Style="{StaticResource PrimaryBtn}"
                    Command="{Binding SaveCommand}" Margin="0,0,10,0"/>
            <Button Content="Ø¥Ù„ØºØ§Ø¡" Width="110" Command="{Binding CancelCommand}"/>
        </StackPanel>

        <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ -->
        <Border Grid.Row="1" Style="{StaticResource CardBorderStyle}">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <Grid Margin="4">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="1*"/>
                        <ColumnDefinition Width="1*"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <!-- Ø§Ù„Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø£ÙˆÙ„ -->
                    <StackPanel Grid.Column="0" Margin="8">
                        <!-- Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø¹Ø±Ø¨ÙŠ -->
                        <StackPanel Margin="0,0,0,12">
                            <TextBlock Text="Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø¹Ø±Ø¨ÙŠ" Foreground="{StaticResource Muted}" FontSize="12"/>
                            <TextBox Text="{Binding Model.CurrencyNameAr, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                        </StackPanel>

                        <!-- Ø§Ù„Ø±Ù…Ø² -->
                        <StackPanel Margin="0,0,0,12">
                            <TextBlock Text="Ø±Ù…Ø² Ø§Ù„Ø¹Ù…Ù„Ø©" Foreground="{StaticResource Muted}" FontSize="12"/>
                            <TextBox Text="{Binding Model.CurrencySymbol, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                        </StackPanel>

                        <!-- Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù†Ø§Ø²Ù„ Ø§Ù„Ø¹Ø´Ø±ÙŠØ© -->
                        <StackPanel Margin="0,0,0,12">
                            <TextBlock Text="Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù†Ø§Ø²Ù„ Ø§Ù„Ø¹Ø´Ø±ÙŠØ©" Foreground="{StaticResource Muted}" FontSize="12"/>
                            <TextBox Text="{Binding Model.DecimalPlaces, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                        </StackPanel>

                        <!-- Ø§Ù„ÙˆØ­Ø¯Ø© Ø§Ù„Ø¬Ø²Ø¦ÙŠØ© -->
                        <StackPanel Margin="0,0,0,12">
                            <TextBlock Text="Ø§Ù„ÙˆØ­Ø¯Ø© Ø§Ù„Ø¬Ø²Ø¦ÙŠØ©" Foreground="{StaticResource Muted}" FontSize="12"/>
                            <TextBox Text="{Binding Model.FractionUnit, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                        </StackPanel>

                        <!-- Ø¹Ù…Ù„Ø© Ø£Ø¬Ù†Ø¨ÙŠØ© -->
                        <CheckBox IsChecked="{Binding Model.IsForeignCurrency, Mode=TwoWay}" 
                                  Content="Ø¹Ù…Ù„Ø© Ø£Ø¬Ù†Ø¨ÙŠØ©" VerticalAlignment="Center"/>
                    </StackPanel>

                    <!-- Ø§Ù„Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø«Ø§Ù†ÙŠ -->
                    <StackPanel Grid.Column="1" Margin="8">
                        <!-- Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ -->
                        <StackPanel Margin="0,0,0,12">
                            <TextBlock Text="Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ" Foreground="{StaticResource Muted}" FontSize="12"/>
                            <TextBox Text="{Binding Model.CurrencyNameEn, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                        </StackPanel>

                        <!-- Ø³Ø¹Ø± Ø§Ù„ØµØ±Ù -->
                        <StackPanel Margin="0,0,0,12">
                            <TextBlock Text="Ø³Ø¹Ø± Ø§Ù„ØµØ±Ù" Foreground="{StaticResource Muted}" FontSize="12"/>
                            <TextBox Text="{Binding Model.ExchangeRate, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                        </StackPanel>

                        <!-- Ø£Ù‚Ù„ Ø³Ø¹Ø± ØªØ­ÙˆÙŠÙ„ -->
                        <StackPanel Margin="0,0,0,12">
                            <TextBlock Text="Ø£Ù‚Ù„ Ø³Ø¹Ø± ØªØ­ÙˆÙŠÙ„" Foreground="{StaticResource Muted}" FontSize="12"/>
                            <TextBox Text="{Binding Model.MinExchangeRate, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                        </StackPanel>

                        <!-- Ø£Ø¹Ù„Ù‰ Ø³Ø¹Ø± ØªØ­ÙˆÙŠÙ„ -->
                        <StackPanel Margin="0,0,0,12">
                            <TextBlock Text="Ø£Ø¹Ù„Ù‰ Ø³Ø¹Ø± ØªØ­ÙˆÙŠÙ„" Foreground="{StaticResource Muted}" FontSize="12"/>
                            <TextBox Text="{Binding Model.MaxExchangeRate, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                        </StackPanel>

                        <!-- Ø¹Ù…Ù„Ø© Ø§Ù„Ø´Ø±ÙƒØ© -->
                        <CheckBox IsChecked="{Binding Model.IsCompanyCurrency, Mode=TwoWay}" 
                                  Content="Ø¹Ù…Ù„Ø© Ø§Ù„Ø´Ø±ÙƒØ©" VerticalAlignment="Center"/>
                    </StackPanel>

                    <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© -->
                    <Border Grid.ColumnSpan="2" Grid.Row="1" Margin="8,16,8,0" Padding="12"
                            Background="#F9FAFB" BorderBrush="#E5E7EB" BorderThickness="1" CornerRadius="10">
                        <StackPanel>
                            <TextBlock Text="Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©" FontWeight="SemiBold" Foreground="#111827" Margin="0,0,0,8"/>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <TextBlock Grid.Column="0" Text="Ù…Ø¹Ø±Ù Ø§Ù„Ø¹Ù…Ù„Ø©:" Foreground="#6B7280" Margin="0,0,10,0"/>
                                <TextBlock Grid.Column="1" Text="{Binding Model.CurrencyId}" 
                                           FontWeight="SemiBold" Foreground="#111827"/>
                                
                                <TextBlock Grid.Column="2" Text="Ù…Ø¹Ø±Ù Ø§Ù„Ø´Ø±ÙƒØ©:" Foreground="#6B7280" Margin="20,0,10,0"/>
                                <TextBlock Grid.Column="3" Text="{Binding Model.CompanyId}" 
                                           FontWeight="SemiBold" Foreground="#111827"/>
                            </Grid>
                        </StackPanel>
                    </Border>
                </Grid>
            </ScrollViewer>
        </Border>

        <!-- Ø´Ø±ÙŠØ· Ø³ÙÙ„ÙŠ -->
        <TextBlock Grid.Row="2"
                   Text="ðŸ’¡ Ù†ØµÙŠØ­Ø©: ØªØ£ÙƒØ¯ Ù…Ù† Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© Ù‚Ø¨Ù„ Ø§Ù„Ø­ÙØ¸."
                   Foreground="{StaticResource Muted}" Margin="4,10,0,0"/>
    </Grid>
</Window>

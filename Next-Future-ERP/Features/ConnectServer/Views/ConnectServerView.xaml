<ui:FluentWindow x:Class="Next_Future_ERP.Features.ConnectServer.Views.ConnectServerView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Next_Future_ERP.Features.ConnectServer.Views"
        xmlns:controls="clr-namespace:Wpf.Ui.Controls;assembly=Wpf.Ui" 
        xmlns:i18n="http://schemas.lepo.co/i18n/2022/xaml"
        xmlns:tray="http://schemas.lepo.co/wpfui/2022/xaml/tray"
        xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml" 
        xmlns:vm="clr-namespace:Next_Future_ERP.Features.ConnectServer.ViewModels"
        mc:Ignorable="d"
        ui:Design.Background="{Binding ApplicationBackgroundBrush}"
        ui:Design.Foreground="{Binding TextFillColorPrimaryBrush}"
        FlowDirection="RightToLeft"
        WindowBackdropType="Mica"
        ExtendsContentIntoTitleBar="True"
        WindowCornerPreference="Default"
        WindowStartupLocation="CenterScreen"
        Title="ConnectServerView"  
        Height="300" 
        Width="400">

    <Window.Resources>
        <BooleanToVisibilityConverter x:Key="BoolToVisibilityConverter"/>
    </Window.Resources>

    <Window.DataContext>
        <vm:ServerViewModel/>
    </Window.DataContext>
    <Grid>
        <ui:Card Background="{Binding BackgroundBrush}" Padding="20" Margin="20">
            <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                <TextBlock Style="{Binding TextFillColorPrimaryBrush}" Text="الخوادم المتوفرة:" FontWeight="Bold"/>
                <StackPanel Orientation="Vertical" Margin="10">
                    <RadioButton Content="استخدام صلاحية Windows"
                 IsChecked="{Binding IsWindowsAuth}" GroupName="AuthType"
                 FontSize="12" FlowDirection="RightToLeft" Margin="0,5"/>

                    <RadioButton Content=" اسم المستخدم وكلمة السر"
                 IsChecked="{Binding IsSqlAuth}" GroupName="AuthType"
                 FontSize="12" FlowDirection="RightToLeft" Margin="0,5"/>
                </StackPanel>
                <TextBlock Style="{Binding TextFillColorPrimaryBrush}" Text="الخوادم المتوفرة:" FontWeight="Bold"/>
                <StackPanel Orientation="Horizontal" Margin="0,10" VerticalAlignment="Center">
                    <ComboBox 
                        Text="اختر السرفر"
                        ItemsSource="{Binding ServerNamesLazy}" 
                        SelectedItem="{Binding SelectedServer}" 
                        Width="300"
                        Margin="0,10" />
                    <ui:ProgressRing
                        Width="20"
                        Height="20"
                        Margin="10,0,0,0"
                        IsIndeterminate="True"
                        Visibility="{Binding IsLoading, Converter={StaticResource BoolToVisibilityConverter}}" />
                </StackPanel>
                <Button Content="اتصال" Width="300" Command="{Binding LoginCommand}"/>
            </StackPanel>
        </ui:Card>
        <ui:TitleBar
            x:Name="TitleBar"
            Title="{Binding ViewModel.ApplicationTitle}"
            Grid.Row="0"
            CloseWindowByDoubleClickOnIcon="True">
        </ui:TitleBar>
    </Grid>
</ui:FluentWindow>
